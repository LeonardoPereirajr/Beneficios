{"ast":null,"code":"import GLOBAL from'./storage.json';import validation from'../Functions/functions.js';import findSring from'../Functions/findString';export function saveData(data){var invalidForm=false;var saveStop=function saveStop(){throw new Error('Formulario Invalido');};function tarefa_1(){var _taskData$usuario,_taskData$usuario2;var taskData=GLOBAL.tarefa_1;console.log(taskData);var retorno={solicitante:\" \".concat(taskData.usuario.numCad,\" - \").concat(taskData.usuario.nomFun,\" \"),empresa:\"\".concat(taskData.empresa.numEmp,\" - \").concat(taskData.empresa.nomFil),filial:\"\".concat(taskData.empresa.numEmp,\" - \").concat(taskData.empresa.nomFil),data:new Date(),cargo:taskData.usuario.cargo,escala:taskData.usuario.escala,beneficios_JSON:JSON.stringify(taskData),dados:\"Empresa \".concat(taskData.empresa.nomFil,\" - \").concat(taskData.empresa.numEmp,\" - \").concat(taskData.empresa.nomFil,\" - Colaborador \").concat((_taskData$usuario=taskData.usuario)===null||_taskData$usuario===void 0?void 0:_taskData$usuario.nomFun,\" - \").concat((_taskData$usuario2=taskData.usuario)===null||_taskData$usuario2===void 0?void 0:_taskData$usuario2.nomFun),descricao:taskData.descricao};return{formData:retorno};}function tarefa_2(){var decisaoUsuario=data.nextAction.name;if(findSring(decisaoUsuario,'Ajustar')||findSring(decisaoUsuario,'Reprovar')){var _GLOBAL$tarefa_;if(!((_GLOBAL$tarefa_=GLOBAL.tarefa_2)!==null&&_GLOBAL$tarefa_!==void 0&&_GLOBAL$tarefa_.observacao)){alert(\"Campo observação é obrigatório\");saveStop();}console.log(GLOBAL.tarefa_2.observacao);return{formData:{observacao:GLOBAL.tarefa_2.observacao,decisao:decisaoUsuario}};}else{return{formData:{decisao:decisaoUsuario}};}}return{tarefa_1:tarefa_1,tarefa_2:tarefa_2};}","map":{"version":3,"names":["GLOBAL","validation","findSring","saveData","data","invalidForm","saveStop","Error","tarefa_1","taskData","console","log","retorno","solicitante","usuario","numCad","nomFun","empresa","numEmp","nomFil","filial","Date","cargo","escala","beneficios_JSON","JSON","stringify","dados","descricao","formData","tarefa_2","decisaoUsuario","nextAction","name","observacao","alert","decisao"],"sources":["C:/Users/leojr/Workspace8/template-bpm/template/src/integration/saveDate.js"],"sourcesContent":["import GLOBAL from './storage.json'\r\nimport validation from '../Functions/functions.js'\r\nimport findSring from '../Functions/findString';\r\n\r\nexport function saveData(data) {\r\n    let invalidForm = false;\r\n    \r\n\r\n    const saveStop = () => {\r\n        throw new Error('Formulario Invalido')\r\n    }\r\n\r\n\r\n    function tarefa_1() {\r\n        const taskData = GLOBAL.tarefa_1;\r\n        console.log(taskData)\r\n\r\n        let retorno = {\r\n            solicitante: ` ${taskData.usuario.numCad} - ${taskData.usuario.nomFun} `,\r\n            empresa: `${taskData.empresa.numEmp} - ${taskData.empresa.nomFil}`,\r\n            filial: `${taskData.empresa.numEmp} - ${taskData.empresa.nomFil}`,\r\n            data: new Date(),\r\n            cargo: taskData.usuario.cargo,\r\n            escala: taskData.usuario.escala,\r\n            beneficios_JSON: JSON.stringify(taskData),\r\n            dados: `Empresa ${taskData.empresa.nomFil} - ${taskData.empresa.numEmp} - ${taskData.empresa.nomFil} - Colaborador ${taskData.usuario?.nomFun} - ${taskData.usuario?.nomFun}`,\r\n           descricao: taskData.descricao\r\n        }\r\n        return {\r\n            formData: retorno\r\n        }\r\n    }\r\n    function tarefa_2(){\r\n        const decisaoUsuario = data.nextAction.name;\r\n        if(findSring(decisaoUsuario,'Ajustar' )||findSring(decisaoUsuario,'Reprovar')){\r\n            if(!GLOBAL.tarefa_2?.observacao){\r\n                alert(\"Campo observação é obrigatório\")\r\n                saveStop()\r\n            }\r\n            console.log(GLOBAL.tarefa_2.observacao)\r\n            return {\r\n                formData: {\r\n                    observacao: GLOBAL.tarefa_2.observacao,\r\n                    decisao: decisaoUsuario\r\n                }\r\n             \r\n            }\r\n        }else{\r\n            return{\r\n                formData: {decisao: decisaoUsuario}\r\n            }\r\n        }\r\n    }\r\n    return {tarefa_1,tarefa_2}\r\n}"],"mappings":"AAAA,MAAOA,OAAP,KAAmB,gBAAnB,CACA,MAAOC,WAAP,KAAuB,2BAAvB,CACA,MAAOC,UAAP,KAAsB,yBAAtB,CAEA,MAAO,SAASC,SAAT,CAAkBC,IAAlB,CAAwB,CAC3B,GAAIC,YAAW,CAAG,KAAlB,CAGA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,KAAM,IAAIC,MAAJ,CAAU,qBAAV,CAAN,CACH,CAFD,CAKA,QAASC,SAAT,EAAoB,0CAChB,GAAMC,SAAQ,CAAGT,MAAM,CAACQ,QAAxB,CACAE,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAEA,GAAIG,QAAO,CAAG,CACVC,WAAW,YAAMJ,QAAQ,CAACK,OAAT,CAAiBC,MAAvB,eAAmCN,QAAQ,CAACK,OAAT,CAAiBE,MAApD,KADD,CAEVC,OAAO,WAAKR,QAAQ,CAACQ,OAAT,CAAiBC,MAAtB,eAAkCT,QAAQ,CAACQ,OAAT,CAAiBE,MAAnD,CAFG,CAGVC,MAAM,WAAKX,QAAQ,CAACQ,OAAT,CAAiBC,MAAtB,eAAkCT,QAAQ,CAACQ,OAAT,CAAiBE,MAAnD,CAHI,CAIVf,IAAI,CAAE,GAAIiB,KAAJ,EAJI,CAKVC,KAAK,CAAEb,QAAQ,CAACK,OAAT,CAAiBQ,KALd,CAMVC,MAAM,CAAEd,QAAQ,CAACK,OAAT,CAAiBS,MANf,CAOVC,eAAe,CAAEC,IAAI,CAACC,SAAL,CAAejB,QAAf,CAPP,CAQVkB,KAAK,mBAAalB,QAAQ,CAACQ,OAAT,CAAiBE,MAA9B,eAA0CV,QAAQ,CAACQ,OAAT,CAAiBC,MAA3D,eAAuET,QAAQ,CAACQ,OAAT,CAAiBE,MAAxF,8CAAgHV,QAAQ,CAACK,OAAzH,4CAAgH,kBAAkBE,MAAlI,mCAA8IP,QAAQ,CAACK,OAAvJ,6CAA8I,mBAAkBE,MAAhK,CARK,CASXY,SAAS,CAAEnB,QAAQ,CAACmB,SATT,CAAd,CAWA,MAAO,CACHC,QAAQ,CAAEjB,OADP,CAAP,CAGH,CACD,QAASkB,SAAT,EAAmB,CACf,GAAMC,eAAc,CAAG3B,IAAI,CAAC4B,UAAL,CAAgBC,IAAvC,CACA,GAAG/B,SAAS,CAAC6B,cAAD,CAAgB,SAAhB,CAAT,EAAsC7B,SAAS,CAAC6B,cAAD,CAAgB,UAAhB,CAAlD,CAA8E,qBAC1E,GAAG,mBAAC/B,MAAM,CAAC8B,QAAR,oCAAC,gBAAiBI,UAAlB,CAAH,CAAgC,CAC5BC,KAAK,CAAC,gCAAD,CAAL,CACA7B,QAAQ,GACX,CACDI,OAAO,CAACC,GAAR,CAAYX,MAAM,CAAC8B,QAAP,CAAgBI,UAA5B,EACA,MAAO,CACHL,QAAQ,CAAE,CACNK,UAAU,CAAElC,MAAM,CAAC8B,QAAP,CAAgBI,UADtB,CAENE,OAAO,CAAEL,cAFH,CADP,CAAP,CAOH,CAbD,IAaK,CACD,MAAM,CACFF,QAAQ,CAAE,CAACO,OAAO,CAAEL,cAAV,CADR,CAAN,CAGH,CACJ,CACD,MAAO,CAACvB,QAAQ,CAARA,QAAD,CAAUsB,QAAQ,CAARA,QAAV,CAAP,CACH"},"metadata":{},"sourceType":"module"}