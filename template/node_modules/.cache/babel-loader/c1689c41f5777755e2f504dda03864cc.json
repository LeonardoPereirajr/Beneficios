{"ast":null,"code":"import GLOBAL from './storage.json';\nimport validation from '../Functions/functions.js';\nimport findSring from '../Functions/findString';\nexport function saveData(data) {\n  let invalidForm = false;\n\n  const saveStop = () => {\n    throw new Error('Formulario Invalido');\n  };\n\n  function tarefa_1() {\n    var _taskData$usuario, _taskData$usuario2;\n\n    const taskData = GLOBAL.tarefa_1;\n    console.log(taskData);\n    let retorno = {\n      solicitante: ` ${taskData.usuario.numCad} - ${taskData.usuario.nomFun} `,\n      empresa: `${taskData.empresa.numEmp} - ${taskData.empresa.nomFil}`,\n      filial: `${taskData.empresa.numEmp} - ${taskData.empresa.nomFil}`,\n      data: new Date(),\n      cargo: taskData.usuario.cargo,\n      escala: taskData.usuario.escala,\n      beneficios_JSON: JSON.stringify(taskData),\n      dados: `Empresa ${taskData.empresa.nomFil} - ${taskData.empresa.numEmp} - ${taskData.empresa.nomFil} - Colaborador ${(_taskData$usuario = taskData.usuario) === null || _taskData$usuario === void 0 ? void 0 : _taskData$usuario.nomFun} - ${(_taskData$usuario2 = taskData.usuario) === null || _taskData$usuario2 === void 0 ? void 0 : _taskData$usuario2.nomFun}`,\n      descricao: taskData.descricao\n    };\n    return {\n      formData: retorno\n    };\n  }\n\n  function tarefa_2() {\n    const decisaoUsuario = data.nextAction.name;\n\n    if (findSring(decisaoUsuario, 'Ajustar') || findSring(decisaoUsuario, 'Reprovar')) {\n      var _GLOBAL$tarefa_;\n\n      if (!((_GLOBAL$tarefa_ = GLOBAL.tarefa_2) !== null && _GLOBAL$tarefa_ !== void 0 && _GLOBAL$tarefa_.observacao)) {\n        alert(\"Campo observação é obrigatório\");\n        saveStop();\n      }\n\n      console.log(GLOBAL.tarefa_2.observacao);\n      return {\n        formData: {\n          observacao: GLOBAL.tarefa_2.observacao\n        }\n      };\n    } else {\n      return {\n        formData: {\n          decisao: decisaoUsuario\n        }\n      };\n    }\n  }\n\n  return {\n    tarefa_1,\n    tarefa_2\n  };\n}","map":{"version":3,"names":["GLOBAL","validation","findSring","saveData","data","invalidForm","saveStop","Error","tarefa_1","taskData","console","log","retorno","solicitante","usuario","numCad","nomFun","empresa","numEmp","nomFil","filial","Date","cargo","escala","beneficios_JSON","JSON","stringify","dados","descricao","formData","tarefa_2","decisaoUsuario","nextAction","name","observacao","alert","decisao"],"sources":["C:/Users/leojr/Workspace8/template-bpm/template/src/integration/saveDate.js"],"sourcesContent":["import GLOBAL from './storage.json'\r\nimport validation from '../Functions/functions.js'\r\nimport findSring from '../Functions/findString';\r\n\r\nexport function saveData(data) {\r\n    let invalidForm = false;\r\n    \r\n\r\n    const saveStop = () => {\r\n        throw new Error('Formulario Invalido')\r\n    }\r\n\r\n\r\n    function tarefa_1() {\r\n        const taskData = GLOBAL.tarefa_1;\r\n        console.log(taskData)\r\n\r\n        let retorno = {\r\n            solicitante: ` ${taskData.usuario.numCad} - ${taskData.usuario.nomFun} `,\r\n            empresa: `${taskData.empresa.numEmp} - ${taskData.empresa.nomFil}`,\r\n            filial: `${taskData.empresa.numEmp} - ${taskData.empresa.nomFil}`,\r\n            data: new Date(),\r\n            cargo: taskData.usuario.cargo,\r\n            escala: taskData.usuario.escala,\r\n            beneficios_JSON: JSON.stringify(taskData),\r\n            dados: `Empresa ${taskData.empresa.nomFil} - ${taskData.empresa.numEmp} - ${taskData.empresa.nomFil} - Colaborador ${taskData.usuario?.nomFun} - ${taskData.usuario?.nomFun}`,\r\n           descricao: taskData.descricao\r\n        }\r\n        return {\r\n            formData: retorno\r\n        }\r\n    }\r\n    function tarefa_2(){\r\n        const decisaoUsuario = data.nextAction.name;\r\n        if(findSring(decisaoUsuario,'Ajustar' )||findSring(decisaoUsuario,'Reprovar')){\r\n            if(!GLOBAL.tarefa_2?.observacao){\r\n                alert(\"Campo observação é obrigatório\")\r\n                saveStop()\r\n            }\r\n            console.log(GLOBAL.tarefa_2.observacao)\r\n            return {\r\n                formData: {observacao: GLOBAL.tarefa_2.observacao}\r\n            }\r\n        }else{\r\n            return{\r\n                formData: {decisao: decisaoUsuario}\r\n            }\r\n        }\r\n    }\r\n    return {tarefa_1,tarefa_2}\r\n}"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,gBAAnB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AAEA,OAAO,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;EAC3B,IAAIC,WAAW,GAAG,KAAlB;;EAGA,MAAMC,QAAQ,GAAG,MAAM;IACnB,MAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;EACH,CAFD;;EAKA,SAASC,QAAT,GAAoB;IAAA;;IAChB,MAAMC,QAAQ,GAAGT,MAAM,CAACQ,QAAxB;IACAE,OAAO,CAACC,GAAR,CAAYF,QAAZ;IAEA,IAAIG,OAAO,GAAG;MACVC,WAAW,EAAG,IAAGJ,QAAQ,CAACK,OAAT,CAAiBC,MAAO,MAAKN,QAAQ,CAACK,OAAT,CAAiBE,MAAO,GAD5D;MAEVC,OAAO,EAAG,GAAER,QAAQ,CAACQ,OAAT,CAAiBC,MAAO,MAAKT,QAAQ,CAACQ,OAAT,CAAiBE,MAAO,EAFvD;MAGVC,MAAM,EAAG,GAAEX,QAAQ,CAACQ,OAAT,CAAiBC,MAAO,MAAKT,QAAQ,CAACQ,OAAT,CAAiBE,MAAO,EAHtD;MAIVf,IAAI,EAAE,IAAIiB,IAAJ,EAJI;MAKVC,KAAK,EAAEb,QAAQ,CAACK,OAAT,CAAiBQ,KALd;MAMVC,MAAM,EAAEd,QAAQ,CAACK,OAAT,CAAiBS,MANf;MAOVC,eAAe,EAAEC,IAAI,CAACC,SAAL,CAAejB,QAAf,CAPP;MAQVkB,KAAK,EAAG,WAAUlB,QAAQ,CAACQ,OAAT,CAAiBE,MAAO,MAAKV,QAAQ,CAACQ,OAAT,CAAiBC,MAAO,MAAKT,QAAQ,CAACQ,OAAT,CAAiBE,MAAO,kBAA7F,qBAA8GV,QAAQ,CAACK,OAAvH,sDAA8G,kBAAkBE,MAAO,MAAvI,sBAA4IP,QAAQ,CAACK,OAArJ,uDAA4I,mBAAkBE,MAAO,EARlK;MASXY,SAAS,EAAEnB,QAAQ,CAACmB;IATT,CAAd;IAWA,OAAO;MACHC,QAAQ,EAAEjB;IADP,CAAP;EAGH;;EACD,SAASkB,QAAT,GAAmB;IACf,MAAMC,cAAc,GAAG3B,IAAI,CAAC4B,UAAL,CAAgBC,IAAvC;;IACA,IAAG/B,SAAS,CAAC6B,cAAD,EAAgB,SAAhB,CAAT,IAAsC7B,SAAS,CAAC6B,cAAD,EAAgB,UAAhB,CAAlD,EAA8E;MAAA;;MAC1E,IAAG,qBAAC/B,MAAM,CAAC8B,QAAR,4CAAC,gBAAiBI,UAAlB,CAAH,EAAgC;QAC5BC,KAAK,CAAC,gCAAD,CAAL;QACA7B,QAAQ;MACX;;MACDI,OAAO,CAACC,GAAR,CAAYX,MAAM,CAAC8B,QAAP,CAAgBI,UAA5B;MACA,OAAO;QACHL,QAAQ,EAAE;UAACK,UAAU,EAAElC,MAAM,CAAC8B,QAAP,CAAgBI;QAA7B;MADP,CAAP;IAGH,CATD,MASK;MACD,OAAM;QACFL,QAAQ,EAAE;UAACO,OAAO,EAAEL;QAAV;MADR,CAAN;IAGH;EACJ;;EACD,OAAO;IAACvB,QAAD;IAAUsB;EAAV,CAAP;AACH"},"metadata":{},"sourceType":"module"}